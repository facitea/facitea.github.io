<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>글목록</title>
    <style>
        table{
            border: 1px solid #444444;
            width: 800px;
        }
        th, tr, td{
            border: 1px solid #444444;
        }
        .titleBox{
            width: 30%;
        }
        .dateBox{
            width: 10%;
        }

    </style>
</head>
<body>
    <table>
            <tr>
                <th class="titleBox">제목</th>
                <th class="contentBox">내용</th>
                <th class="dateBox">날짜</th>
            </tr>
            <tr>
                <td id="title1"></td>
                <td id="content1"></td>
                <td id="date1"></td>
            </tr>
            <tr>
                <td id="title2"></td>
                <td id="content2"></td>
                <td id="date3"></td>
            </tr>
            <tr>
                <td id="title3"></td>
                <td id="content3"></td>
                <td id="date1"></td>
            </tr>
            <tr>
                <td></td>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td></td>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td></td>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td></td>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td></td>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td></td>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td></td>
                <td></td>
                <td></td>
            </tr>
    </table>

    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-storage.js"></script>
    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyDU5hIzUSfHwHgPxsvRdH6QkLM-_8jaekU",
            authDomain: "hawktalk-b0a71.firebaseapp.com",
            databaseURL: "https://hawktalk-b0a71-default-rtdb.firebaseio.com",
            projectId: "hawktalk-b0a71",
            storageBucket: "hawktalk-b0a71.appspot.com",
            messagingSenderId: "537777830041",
            appId: "1:537777830041:web:1b5ce3e943d55c09d1e008",
            measurementId: "G-7T0M3EK19Q"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();

        //doc.data(); 원시적인 데이터인듯

        var list = [];//게시글을 배열에 담는다
        /*
        db.collection('게시판').get().then((결과)=>{
            결과.forEach((doc)=>{
                //console.log(doc.data()) =>콘솔로 하나씩 찍힘
            })
        }) //'결과'는 임의로 삽입한 프로퍼티이다.
        //forEach를 통해 결과로 나온 배열을 연달아 출력한다.
        */

        /*이렇게하면 되는데 ㅠㅠ 중첩오지네+
        db.collection('게시판').get().then((결과)=>{
            결과.forEach((doc)=>{
                console.log(doc.data())
                list.push(doc.data())
                console.log(list)
            })
        })
        */

        /*
        db.collection('게시판').get().then((doc)=>{

            /*결과.forEach((doc)=>{
                list.push(doc.data())
                console.log(list)
            })
            console.log(doc.data())*/
        /*
            if (doc.exists){
                console.log("Document data:", doc.data());
            } else {
                console.log("No such document!");
            }
        }).catch((error) => {
            console.log("Error getting document:", error);
        });
        */

        db.collection('게시판').get().then((결과)=>
            {
            // 결과.forEach((doc)=>{

            //     console.log(doc.data())

            //     list.push(doc.data())
            //     console.log(list)
            // })
               
            
            while(결과.length){(doc)=>{
                 console.log(doc.data())

                 list.push(doc.data())
                 console.log(list)
                }
            }
            

            
            
        })
    </script>
</body>
</html>